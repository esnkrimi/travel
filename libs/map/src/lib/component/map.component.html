<div class="parent">
  <div class="w-100 text-center box">
    <!--  <div [class.invisible]="!showMap" class="absolute-50">
      <div class="w-100 bg-light" cdkDrag>
        <div
          *ngFor="let item of typeOflocations"
          (click)="change(item)"
          class="w-100"
        >
          <img
            [title]="item"
            [src]="'./assets/img/' + item + '.png'"
            class="img-icon m-1"
            [class.active-type]="
              selectedType === item || (item === 'saved' && savedLocation)
            "
          />
        </div>


        <div
        class="mt-2"
        
        >
        
      </div>
      <div
      class=""
      
      >
      
    </div>
  </div>
</div>
-->

    <div [class.invisible]="!setting.showMap" class="map-container">
      <div class="fixed-country shadow-lg cursor-pointer" cdkDrag>
        <div
          class="animated-fadein text-large text-green bg-white w-100"
          *ngIf="setting.distanceActivated"
        >
          <span> DISTANCE MODE </span>
        </div>
        <div>
          <span
            >{{ draggingLocation.country }} {{ draggingLocation.city }}</span
          >
        </div>
        <div class="text-muted text-meduim">
          <span>
            {{ draggingLocation.suburb }}
            {{ draggingLocation.street }}
          </span>
        </div>
      </div>

      <div class="location-input" cdkDrag>
        <div class="d-flex flex-nowrap">
          <div class="relative flex-cell shadow-lg">
            <pe-advanced-autocomplete
              (results)="change($event)"
            ></pe-advanced-autocomplete>
            <div
              *ngIf="selectedType !== 'all'"
              class="w-100 text-left searched-type"
            >
              <button
                style="height: 2.7em !important"
                mat-stroked-button
                class="bg-light shadow-lg fw-bold"
                (click)="change('all')"
              >
                {{ selectedType }}
                <i class="fa fa-close"></i>
              </button>
            </div>
          </div>

          <div class="flex-cell pl-3">
            <span
              *ngIf="!setting.distanceActivated"
              (click)="setting.toolsShow = true"
            >
              <button
                mat-stroked-button
                style="height: 2.7em !important"
                class="bg-light"
              >
                T
              </button>
            </span>
            <span
              *ngIf="setting.distanceActivated"
              (click)="cancelTools()"
              class="pl-3"
            >
              <button
                mat-stroked-button
                class="bg-light"
                style="height: 2.7em !important"
              >
                Distance
                <i class="fa fa-close"></i>
              </button>
            </span>
          </div>
        </div>
      </div>

      <div #mapContainer class="map-frame w-100 d-relative">
        <div id="map"></div>
        <div class="d-fixed bg-light animated-fadein" *ngIf="setting.toolsShow">
          <div class="text-left p- m-1 link-darks">
            <div class="p-3">
              <span
                joyrideStep="secondStep"
                text="You can measure distance between two place"
                [class.disabled]="!setting.distanceActivated"
                (click)="activeDistanceMeter()"
                class="text-large m-2 link-darks"
              >
                Distance Meter
              </span>
            </div>
          </div>
          <div class="text-left p-2 m-2">
            <button
              mat-stroked-button
              class="bg-light"
              (click)="setting.toolsShow = false"
            >
              cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #doneButton>
  <button mat-raised-button color="primary" (click)="showTour = false">
    Done !
  </button>
</ng-template>

<div
  *ngIf="setting.openModalLocationListFlag"
  class="modal-absolute w-100 text-center"
>
  <div class="inner w-75 text-left">
    <div class="d-relative">
      <pe-location-list
        [type]="setting.savedLocationFlag"
        [city]="city"
        [state]="state"
        [country]="country"
        (selectedLocation)="selectedLocation($event)"
      ></pe-location-list>
      <i
        class="fa fa-close icon-close link-darks fa-2x"
        (click)="openModalLocationList(false)"
      ></i>
    </div>
  </div>
</div>

<div *ngIf="setting.openModalLocationFlag" class="modal-absolute text-center">
  <div class="inner w-25 bg-light m-3">
    <div class="d-relative ml-2 pl-2 rounded-0 text-dark text-left">
      <br />
      <div class="ml-2 pl-2">
        <span class="fw-bold text-capitalize">{{
          locationForModal[0].title
        }}</span
        >&nbsp;
        <span class="fw-bold text-capitalize">{{
          locationForModal[0].type
        }}</span>
      </div>
      <div class="ml-2 pl-2 border-bottom w-90">
        <span *ngFor="let i of numberToArray(4)">
          <i class="fa fa-star bg-white text-gold" *ngIf="i === '1'"></i>
        </span>
      </div>
      <div>
        <span class="text-capitalize m-2 p-2">{{
          locationForModal[0].district
        }}</span>
      </div>
      <div>
        <span class="text-capitalize m-2 p-2">{{
          locationForModal[0].phone
        }}</span>
      </div>
      <div class="m-2 p-2">
        <span>
          <a
            class="link-darks border p-2 m-2 fw-bold"
            (click)="bindExistsLocation(locationForModal[0])"
          >
            view
          </a>
        </span>
        <span>
          <a
            class="link-darks border p-2 m-2"
            (click)="setting.openModalLocationFlag = false"
          >
            cancel
          </a>
        </span>
      </div>
    </div>
  </div>
</div>
