<div class="w-100 header-fix z-index bg-dark shadow-sm">
  <div class="light-div d-flex flex-nowrap w-100">
    <div class="text-left text-light w-50">
      <span> Crown Travel Management </span>
    </div>

    <div class="text-right w-50">
      <span
        [@animate]="animationFlag"
        class="link-light text-meduim"
        (click)="changeLanguage(languages[languageIndex].title)"
      >
        {{ 'titles' | translate }}
      </span>
    </div>
  </div>
  <div class="row">
    <div
      class="col-md-6 position-static text-center bg-dark"
      [class.fix-position]="scrollDown"
    >
      <div class="d-flex w-100 flex-nowrap">
        <div class="w-50 flex-cell">
          <span class="font-antique text-light text-large"> CROWN </span>
        </div>
        <div class="w-100 flex-cell w-100">
          <pe-search
            class="w-100"
            (resultOutput)="resultOutput($event)"
          ></pe-search>
        </div>
      </div>
    </div>
    <div
      *ngIf="!userLoginInformation?.id; else elseLogin"
      class="col-md-6 text-center flex-cell"
    >
      <div class="flex-50 w-100">
        <div class="child text-right w-100">
          <span
            class="text-meduim link-light"
            [routerLink]="[{ outlets: { secondRouter: 'lazy/login' } }]"
          >
            {{ 'login' | translate }}</span
          >
          <span class="text-meduim text-light">|</span>
          <span
            class="text-meduim link-light"
            [routerLink]="[{ outlets: { secondRouter: 'lazy/signup' } }]"
          >
            {{ 'signup' | translate }}</span
          >
        </div>
      </div>
    </div>
    <ng-template #elseLogin>
      <div class="col-md-6 text-right flex-cell">
        <div class="w-100 animated-fadein">
          <button
            (click)="menuShow = !menuShow"
            mat-button
            class="bg-dark text-light"
          >
            <mat-icon>arrow_drop_down</mat-icon>
            <span class="fw-bold text-meduim"
              >Hi ! {{ userLoginInformation?.name | titlecase }}</span
            >
            <span class="m-2">{{ userLoginInformation?.lname }}</span>
          </button>
          <div class="position-relative d-inline-block menu" *ngIf="menuShow">
            <div class="position-absolute">
              <p (click)="routeHome()">
                <span>
                  <i class="fa fa-home fa-2x" aria-hidden="true"></i>
                </span>
                <span>
                  {{ 'home' | translate }}
                </span>
              </p>
              <p (click)="menuShow = false">
                <span>
                  <i class="fa fa-cog fa-2x" aria-hidden="true"></i>
                </span>
                <span
                  (click)="menuShow = false"
                  [routerLink]="[{ outlets: { secondRouter: 'lazy/setting' } }]"
                >
                  {{ 'settings' | translate }}
                </span>
              </p>
              <p (click)="savedLocations()">
                <span>
                  <i class="fa fa-2x fa-gratipay" aria-hidden="true"></i>
                </span>
                <span>
                  {{ 'savelocation' | translate }}
                </span>
              </p>
              <p
                (click)="menuShow = false"
                [routerLink]="[{ outlets: { secondRouter: 'lazy/mytrips' } }]"
              >
                <span>
                  {{ 'mytrips' | translate }}
                </span>
              </p>
              <p
                (click)="menuShow = false"
                [routerLink]="[
                  { outlets: { secondRouter: 'lazy/myrequests' } }
                ]"
              >
                <span>
                  {{ 'myrequests' | translate }}
                </span>
              </p>
              <p
                (click)="menuShow = false"
                [routerLink]="[{ outlets: { secondRouter: 'lazy/trips' } }]"
              >
                <span>
                  {{ 'trips' | translate }}
                </span>
              </p>
              <p
                (click)="menuShow = false"
                [routerLink]="[{ outlets: { secondRouter: 'lazy/messages' } }]"
              >
                <span>
                  {{ 'mymessages' | translate }}
                </span>
              </p>
              <p (click)="logout()">
                <span>
                  <i class="fa fa-2x fa-sign-out" aria-hidden="true"></i>
                </span>
                <span>
                  {{ 'logout' | translate }}
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </div>
  <div class="navbar">
    <pe-navbar-menu></pe-navbar-menu>
  </div>
</div>
